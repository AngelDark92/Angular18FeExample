<div class="layout-container">
  <!-- Header -->
  <mat-toolbar color="primary">
    <div class="header-content">
      <!-- Bottone Indietro -->
      <button mat-icon-button (click)="goBack()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <img src="assets/hospital-logo.png" alt="Hospital Logo" class="logo" />
      <span class="hospital-name">Hospital Management System</span>
      <span class="spacer"></span>


      <!-- User info for large screens -->
      <div class="user-info desktop-menu">
        <span>Benvenuto/a </span>
        <span *ngIf="userData?.medicoDTO">
          {{ userData?.medicoDTO?.nome }} {{ userData?.medicoDTO?.cognome }}
        </span>
        <span *ngIf="userData?.pazienteDTO">
          {{ userData?.pazienteDTO?.nome }} {{ userData?.pazienteDTO?.cognome }}
        </span>
        <button mat-button (click)="logout()">Logout</button>
      </div>

      <!-- Menu icon for small screens -->
      <div class="mobile-menu">
        <button mat-icon-button [matMenuTriggerFor]="menu">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item>
            <span>Benvenuto</span>
            <span *ngIf="userData?.medicoDTO">
              {{ userData?.medicoDTO?.nome }} {{ userData?.medicoDTO?.cognome }}
            </span>
            <span *ngIf="userData?.pazienteDTO">
              {{ userData?.pazienteDTO?.nome }} {{ userData?.pazienteDTO?.cognome }}
            </span>
          </button>
          <button mat-menu-item (click)="logout()">Logout</button>
        </mat-menu>
      </div>
    </div>
  </mat-toolbar>

  <div class="main-content">
    <mat-card class="content-card mat-elevation-z8">
      <!-- Horizontal Menu -->
      <nav mat-tab-nav-bar [tabPanel]="lista">
        <a mat-tab-link *ngFor="let link of links" [routerLink]="link.path" [active]="activeLink === link.path"
          (click)="activeLink = link.path">
          {{ link.label }}
        </a>
      </nav>

      <mat-tab-nav-panel #lista>
        <router-outlet></router-outlet>
      </mat-tab-nav-panel>
    </mat-card>
  </div>

  <!-- Footer -->
  <footer class="footer mat-elevation-z4">
    <p>Hospital Management System &copy; 2024</p>
  </footer>
</div>
